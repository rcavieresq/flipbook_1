<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Flipbook El niño sin memoria</title>
<style>
    body {
        margin: 0;
        background: #111;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        overflow: hidden;
        font-family: sans-serif;
    }

    #flipbook {
        position: relative;
        width: 90%;
        max-width: 1000px;
        height: 90%;
        background: #222;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
    }

    .page {
        position: absolute;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 0;
        transform: scale(0.9) rotateY(30deg);
        transition: all 0.6s ease;
    }

    .page img {
        max-height: 100%;
        max-width: 100%;
        object-fit: contain;
    }

    .page.visible {
        opacity: 1;
        transform: scale(1) rotateY(0deg);
        z-index: 1;
    }

    .spread {
        display: flex;
        gap: 5px;
    }

    .spread img {
        max-height: 100%;
        max-width: 50%;
        object-fit: contain;
    }

    /* Flechas de navegación */
    .arrow {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        font-size: 50px;
        color: rgba(255,255,255,0.6);
        cursor: pointer;
        user-select: none;
        z-index: 2;
        transition: color 0.3s;
    }

    .arrow:hover {
        color: rgba(255,255,255,1);
    }

    .arrow.left {
        left: 10px;
    }

    .arrow.right {
        right: 10px;
    }
</style>
</head>
<body>
    <div id="flipbook"></div>

    <!-- Flechas -->
    <div class="arrow left">&#10094;</div>
    <div class="arrow right">&#10095;</div>

<script>
    const totalPages = 44;
    const flipbook = document.getElementById("flipbook");
    let currentIndex = 0; // índice de "vista"

    const views = [];

    // Primera página (portada)
    views.push(`<div class="page"><img src="pages/page-01.jpg" alt="Página 1"></div>`);

    // Páginas 2–43 en pares
    for (let i = 2; i <= 43; i += 2) {
        let spread = `
            <div class="page spread">
                <img src="pages/page-0${i}.jpg" alt="Página ${i}">
                ${i + 1 <= 43 ? `<img src="pages/page-0${i + 1}.jpg" alt="Página ${i + 1}">` : ""}
            </div>`;
        views.push(spread);
    }

    // Última página (44)
    views.push(`<div class="page"><img src="pages/page-044.jpg" alt="Página 44"></div>`);

    flipbook.innerHTML = views.join("");
    const pages = document.querySelectorAll(".page");

    function showPage(index) {
        pages.forEach((page, i) => {
            page.classList.remove("visible");
            if (i === index) page.classList.add("visible");
        });
    }

    function nextPage() {
        if (currentIndex < pages.length - 1) {
            currentIndex++;
            showPage(currentIndex);
        }
    }

    function prevPage() {
        if (currentIndex > 0) {
            currentIndex--;
            showPage(currentIndex);
        }
    }

    // Mostrar la primera página
    showPage(currentIndex);

    // Navegación con teclado
    document.addEventListener('keydown', (event) => {
        if (event.key === 'ArrowRight') nextPage();
        else if (event.key === 'ArrowLeft') prevPage();
    });

    // Navegación con click en la ventana
    document.addEventListener('click', (event) => {
        const x = event.clientX;
        const width = window.innerWidth;
        if (x > width / 2) nextPage();
        else prevPage();
    });
</script>
</body>
</html>

